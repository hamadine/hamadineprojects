<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dictionnaire Tadaksahak Multilingue</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <h1 id="appTitle">Tadaksahak Multilingue</h1>

  <!-- Bouton d'ouverture -->
  <button id="openLangModal" class="lang-btn-trigger">ğŸŒ Choisir la langue</button>

  <!-- Modale -->
  <div id="langModal" class="modal-overlay">
    <div class="modal-box">
      <h2>SÃ©lectionner la langue de l'application</h2>
      <div class="lang-circle-group" id="langSelector">
        <!-- Langues insÃ©rÃ©es dynamiquement -->
      </div>
      <button id="closeLangModal" class="modal-close">Terminer</button>
    </div>
  </div>

  <!-- Texte d'exemple -->
  <p id="welcomeText">Bienvenue dans le dictionnaire Tadaksahak !</p>

  <script>
    const supportedLangs = {
      fr: { name: "FranÃ§ais", flag: "fr", message: "Bienvenue dans le dictionnaire Tadaksahak !" },
      en: { name: "English", flag: "gb", message: "Welcome to the Tadaksahak Dictionary!" },
      ar: { name: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", flag: "sa", message: "Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù‚Ø§Ù…ÙˆØ³ ØªØ§Ø¯Ø§ÙƒØ³Ø§Ù‡Ø§Ùƒ!" },
      ru: { name: "Ğ ÑƒÑÑĞºĞ¸Ğ¹", flag: "ru", message: "Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ Ğ¢Ğ°Ğ´Ğ°ĞºÑĞ°Ñ…Ğ°Ğº!" },
      de: { name: "Deutsch", flag: "de", message: "Willkommen im Tadaksahak-WÃ¶rterbuch!" },
      es: { name: "EspaÃ±ol", flag: "es", message: "Â¡Bienvenido al diccionario Tadaksahak!" },
      it: { name: "Italiano", flag: "it", message: "Benvenuto nel dizionario Tadaksahak!" },
      nl: { name: "Nederlands", flag: "nl", message: "Welkom bij het Tadaksahak-woordenboek!" },
      da: { name: "Dansk", flag: "dk", message: "Velkommen til Tadaksahak-ordbogen!" },
      cs: { name: "ÄŒeÅ¡tina", flag: "cz", message: "VÃ­tejte ve slovnÃ­ku Tadaksahak!" },
      pt: { name: "PortuguÃªs", flag: "pt", message: "Bem-vindo ao dicionÃ¡rio Tadaksahak!" },
      tr: { name: "TÃ¼rkÃ§e", flag: "tr", message: "Tadaksahak sÃ¶zlÃ¼ÄŸÃ¼ne hoÅŸ geldiniz!" },
      ja: { name: "æ—¥æœ¬èª", flag: "jp", message: "ã‚¿ãƒ€ã‚¯ã‚µãƒã‚¯è¾æ›¸ã¸ã‚ˆã†ã“ãï¼" },
      zh: { name: "ä¸­æ–‡", flag: "cn", message: "æ¬¢è¿ä½¿ç”¨Tadaksahakè¯å…¸ï¼" },
      hi: { name: "à¤¹à¤¿à¤¨à¥à¤¦à¥€", flag: "in", message: "à¤¤à¤¡à¤¼à¤•à¥à¤¸à¤¹à¤• à¤¶à¤¬à¥à¤¦à¤•à¥‹à¤¶ à¤®à¥‡à¤‚ à¤†à¤ªà¤•à¤¾ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ!" },
      sw: { name: "Kiswahili", flag: "tz", message: "Karibu kwenye kamusi ya Tadaksahak!" }
    };

    let currentLang = "fr";

    const modal = document.getElementById("langModal");
    const selector = document.getElementById("langSelector");
    const welcomeText = document.getElementById("welcomeText");

    // GÃ©nÃ©rer les boutons dynamiquement
    for (const [code, data] of Object.entries(supportedLangs)) {
      const btn = document.createElement("button");
      btn.className = "lang-circle";
      btn.onclick = () => setLang(code);
      btn.innerHTML = `
        <img src="https://flagcdn.com/${data.flag}.svg" alt="${data.name}">
        <span>${code.toUpperCase()}</span>
      `;
      selector.appendChild(btn);
    }

    // Appliquer une langue
    function setLang(code) {
      currentLang = code;
      document.documentElement.lang = code;
      welcomeText.textContent = supportedLangs[code].message || welcomeText.textContent;
      modal.classList.remove("show");
    }

    // Auto-dÃ©tection au chargement
    window.addEventListener("DOMContentLoaded", () => {
      const browserLang = navigator.language.slice(0, 2).toLowerCase();
      if (supportedLangs[browserLang]) setLang(browserLang);
    });

    // Gestion modale
    document.getElementById("openLangModal").onclick = () => modal.classList.add("show");
    document.getElementById("closeLangModal").onclick = () => modal.classList.remove("show");
  </script>

</body>
</html>
